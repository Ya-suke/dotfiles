#!/bin/bash
echo "  ïª¨ Testing Connection.... "
echo "  ðŸ“¡ "
ping -c 1 google.com > /dev/null 2>&1 && echo "  ðŸ—±  connected " || (echo " ðŸ—¶  disconnected " && echo "" && echo " â˜   Exiting..." && exit)
echo "îœ‚ Pushing tasks to repo ï†—  ï†—  îœ‚.."

echo ""

git -C /home/yasuke/.task/ push -u origin main


echo ""
echo "îœ‚ Pushing dotfiles to repo ï†—  ï†—  îœ‚.."
# old dotfiles repo
# git -C /home/yasuke/Documents/ya-suke/dotfiles push -u origin old

echo ""
echo "Committing updates"
git -C /home/yasuke/.local/share/chezmoi/ commit -a -m "update dotfiles"

echo ""

echo "Pushing"
git -C /home/yasuke/.local/share/chezmoi/ push -u origin master

# chezmoi apply

echo ""

echo " backing up group and hist files"
sudo cat /etc/group > ~/group.bak && echo "group backup successful" || echo "group backup failed"
cat ~/.zsh_history > ~/.zsh_history.bak && echo "hist backup successful" || echo "hist backup failed"

echo " âœ…âœ…âœ…"

echo "Exiting..."
